<nav-bar></nav-bar>
<main style="margin:4%;padding:2%;margin-top:0px;">
	<div class="container-fluid" style="width:100%;">
		<loading-service></loading-service>  
		<msg-component [mensaje]="mensaje" (valueChanged)="getValueMsg($event)"></msg-component> 
		<div  class="row"  style="margin-top:25px;margin-bottom:10px;">
    		<div class="col-lg-8 offset-lg-2 offset-md-2 col-md-8 col-sm-12 col-12" style="text-align:center;">
				<h4 class="font-bold d-none d-sm-inline-block" style="margin-bottom:0px;padding-bottom:0px;margin-top:0px;">{{title}}</h4>
				<h6 class="font-bold d-sm-none" style="margin-bottom:0px;padding-bottom:0px;margin-top:0px;">{{title}}</h6>
			</div>
		</div>
		<div class="row" style="margin-top:15px;">
			<div class="col-lg-12 col-md-12 col-sm-12 col-12">
				<form style="border:1px solid #ccc; background:#F5F5F5;padding:5px;">
					<div class="row">
						<div class="col-lg-4 col-md-4 col-sm-6 col-12" style="margin-top:5px;text-align:left;">
							<div class="form-floating" style="margin-top:5px;">
								<input type="date" class="form-control filtro-busqueda" id="fecha" name="fecha" [(ngModel)]="fecha">
								<label for="fecha">Fecha de viaje</label>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6 col-12" style="margin-top:5px;text-align:left;">
							<div class="form-floating" style="margin-top:5px;">
								<input type="text" class="form-control filtro-busqueda" id="nro" name="nro" [(ngModel)]="nro" maxlength="6" style="text-transform:uppercase;">
								<label for="nro">Nro.viaje</label>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-12 col-12" style="text-align:right;margin-top:5px;">
							<button type="button" class="btn btn-outline-dark btn-lg" style="margin:10px;font-size:14px;" (click)="clean()">Limpiar</button>
							<button class="btn btn btn-outline-warning btn-lg" style="margin:10px;font-size:14px;" (click)="buscar()">Buscar</button>
						</div>
					</div>
				</form>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
				<label style="font-size:13px" class="font-regular" *ngIf="fecha_salida!=null"><b class="font-bold">Fecha de salida:&nbsp;</b>{{fecha_salida}}</label><br *ngIf="fecha_salida!=null">
				<label style="font-size:13px" class="font-regular" *ngIf="hora_salida!=null"><b class="font-bold">Hora de salida:&nbsp;</b>{{hora_salida}}</label><br *ngIf="hora_salida!=null">
				<label style="font-size:13px" class="font-regular" *ngIf="sequence!=null"><b class="font-bold">Nro.Viaje:&nbsp;</b>{{sequence}}</label><br *ngIf="sequence!=null">
				<label style="font-size:13px" class="font-regular" *ngIf="line_code!=null"><b class="font-bold">Código de línea:&nbsp;</b>{{line_code}}</label><br *ngIf="line_code!=null">
				<label style="font-size:13px" class="font-regular" *ngIf="line_name!=null"><b class="font-bold">Línea:&nbsp;</b>{{line_name}}</label><br *ngIf="line_name!=null">

			</div>
			<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
				<label style="font-size:13px" class="font-regular" *ngIf="boarding_gate!=null"><b class="font-bold">Puerta de embarque:&nbsp;</b>{{boarding_gate}}</label><br *ngIf="boarding_gate!=null">
				<label style="font-size:13px" class="font-regular" *ngIf="vehicle_license_plate!=null"><b class="font-bold">Placa:&nbsp;</b>{{vehicle_license_plate}}</label><br *ngIf="vehicle_license_plate!=null">
				<div *ngIf="drivers!=null && drivers.length!=0">
					<label style="font-size:13px" class="font-regular"><b class="font-bold">CHOFERES</b></label><br>
					<div  *ngFor="let item of drivers let i = index;">
						<label style="font-size:13px" class="font-regular"><b class="font-bold">({{item.id_doc}}):&nbsp;</b>{{item.name}}</label><br *ngIf="item.id_doc!=null">
					</div>
				</div>
			</div>
			<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
				<label style="font-size:13px" class="font-regular" *ngIf="ocupados!=null"><b class="font-bold">Puestos ocupados:&nbsp;</b>{{ocupados}}</label><br *ngIf="ocupados!=null">
				<label style="font-size:13px" class="font-regular" *ngIf="check_intt!=null"><b class="font-bold">Chequeado por INTT:&nbsp;</b>{{check_intt}}</label><br *ngIf="check_intt!=null">
				<label style="font-size:13px" class="font-regular" *ngIf="operation_check!=null"><b class="font-bold">Chequeado por Operaciones:&nbsp;</b>{{operation_check}}</label><br *ngIf="operation_check!=null">

			</div>
		</div>
		<div  class="row" style="margin-top:20px;" *ngIf="sequence!=null;">
			<div class="col-lg-12 col-md-12 col-sm-12 col-12" style="text-align:right;">
				<button type="button" class="btn btn-dark btn-lg" style="margin:10px;font-size:14px;" (click)="openModalOperaciones()" *ngIf="mostrarCheckOperacion && operation_check=='NO'">Chequear por Operaciones</button>
				<button class="btn btn-primary btn-lg" type="button"  style="margin:10px;font-size:14px;" *ngIf="mostrarCheckIntt && check_intt=='NO'" (click)="openModalINTT()">Chequear por INTT</button>
			</div>
		</div>
	</div>
</main>
<div class="modal" tabindex="-1" id="modalCheckViajeOperaciones">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Chequear viaje</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<p >¿Operaciones desea chequear el viaje <b class="font-bold">{{sequence}}</b> de la linea <b class="font-bold">{{line_name}}&nbsp;</b>?<br>
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
					<button type="button" class="btn btn-success" (click)="checkData('OPERACIONES')">Chequear</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal" tabindex="-1" id="modalCheckViajeINTT">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Chequear viaje</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<p>¿INTT desea chequear el viaje <b class="font-bold">{{sequence}}</b> de la linea <b class="font-bold">{{line_name}}&nbsp;</b>?<br>
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
					<button type="button" class="btn btn-success" (click)="checkData('INTT')">Chequear</button>
				</div>
			</div>
		</div>
	</div>