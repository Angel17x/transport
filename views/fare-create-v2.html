<nav-bar></nav-bar>
<main style="margin:4%;padding:2%;margin-top:0px;">
	<div class="container-fluid" style="width:100%;">
		<loading-service></loading-service>  
		<msg-component [mensaje]="mensaje" (valueChanged)="getValueMsg($event)"></msg-component> 
		<div  class="row" style="margin-top:15px;margin-bottom:10px;">
    		<div class="col-lg-12 col-md-12 col-sm-12 col-12" style="text-align:left;">
				<h4 class="font-bold d-none d-sm-inline-block" style="margin-bottom:0px;padding-bottom:0px;margin-top:0px;">{{title}}</h4>
				<h6 class="font-bold d-sm-none" style="margin-bottom:0px;padding-bottom:0px;margin-top:0px;">{{title}}</h6>
			</div>
		</div>
		<form id="form-fare-create" style="margin-top:15px;">
			<div class="row">
				<div class="col-lg-6 col-md-6 col-sm-6 col-12">
					<div class="form-floating" style="margin-top:15px;"  (click)="openModalLineas()" *ngIf="save">
						<input  type="text" class="form-control" id="line" name="line" [(ngModel)]="lineaSelectedShow" maxlength="30" style="text-transform:uppercase;cursor:pointer;" disabled="true">
						<label for="line">Linea</label>
					</div>
					<label *ngIf="!save" for="line" style="color:#ff3232;">Linea de transporte</label>
					<h6  *ngIf="!save">{{line_name}}</h6>
				</div>
				<div class="col-lg-6 col-md-6 col-sm-6 col-12" (click)="openModalTypes()">
					<div class="form-floating" style="margin-top:15px;"  *ngIf="save">
						<input type="text" class="form-control" id="tipo" name="tipo" [(ngModel)]="tipoSelectedShow" maxlength="30" style="text-transform:uppercase;cursor:pointer;" disabled="true">
						<label for="tipo">Tipo de vehículo</label>
					</div>
					<label *ngIf="!save" for="tipo" style="color:#ff3232;">Tipo de vehículo</label>
					<h6  *ngIf="!save">{{tipoSelectedShow}}</h6>
				</div>
				<div class="col-lg-6 col-md-6 col-sm-6 col-12">
					<div class="form-floating" style="margin-top:15px;" (click)="openModalParadas('SALIDA')" *ngIf="save">
						<input type="text" class="form-control" id="salida" name="salida" [(ngModel)]="paradaSelectedSalidaShow" maxlength="30" style="text-transform:uppercase;cursor:pointer;" disabled="true">
						<label for="salida">Punto de salida</label>
					</div>
					<label *ngIf="!save" for="tipo" style="color:#ff3232;">Punto de salida</label>
					<h6  *ngIf="!save">{{paradaSelectedSalidaShow}}</h6>
				</div>
				<div class="col-lg-6 col-md-6 col-sm-6 col-12">
					<div class="form-floating" style="margin-top:15px;" (click)="openModalParadas('LLEGADA')"   *ngIf="save">
						<input type="text" class="form-control" id="llegada" name="llegada" [(ngModel)]="paradaSelectedLlegadaShow" maxlength="30" style="text-transform:uppercase;cursor:pointer;" disabled="true">
						<label for="llegada">Punto de llegada</label>
					</div>
					<label *ngIf="!save" for="tipo" style="color:#ff3232;">Punto de llegada</label>
					<h6  *ngIf="!save">{{paradaSelectedLlegadaShow}}</h6>
				</div>
				<div class="col-lg-6 col-md-6 col-sm-6 col-12">
					<div class="form-floating" style="margin-top:15px;">
						<input type="text" class="form-control" id="nombre" name="nombre" [(ngModel)]="nombre" maxlength="30" style="text-transform:uppercase;">
						<label for="nombre">Nombre</label>
					</div>
				</div>
				<div class="col-lg-6 col-md-6 col-sm-6 col-12">
					<div class="form-floating" style="margin-top:5px;">
						<select class="form-select" id="currency" name="currency" aria-label="Seleccione la moneda" [(ngModel)]="currency">
							<option *ngFor="let item of listCurrency let i = index;" [value]="item.value">{{item.name}}</option>
						</select>
						<label for="currency">Moneda</label>
					</div>
				</div>
				<div class="col-lg-6 col-md-6 col-sm-6 col-12">
					<div class="form-floating" style="margin-top:15px;">
						<input type="text" inputmode="numeric" (keyup)="devolverEvent($event)" (keypress)="getEventMonto($event)" (click)="moveCursorToEnd()" (keydown)="keyDown($event)" (focus)="moveCursorToEnd()" (change)="changeAmount($event)" (input)="inputEvent($event)" onpaste="return false;" oncut="return false;" class="form-control" id="monto" name="monto" [(ngModel)]="monto" maxlength="30" (change)="changeTarifa()">
						<label for="monto">Monto total</label>
					</div>
				</div>
				<div class="col-lg-6 col-md-6 col-sm-6 col-12" style="margin-top:5px;text-align:left;">
					<div class="form-floating" style="margin-top:15px;">
						<select class="form-select" id="typeRuta" name="typeRuta" aria-label="Seleccione el tipo" [(ngModel)]="typeRuta">
							<option *ngFor="let item of listTypesRuta let i = index;" [value]="item.value">{{item.name}}</option>
						</select>
						<label for="typeRuta">Tipo de ruta</label>
					</div>
				</div>
				<div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="typeRuta=='LONG_ROUTE'">
					<div class="form-floating" style="margin-top:15px;">
						<input type="text" class="form-control" id="monto_base" name="monto_base" [(ngModel)]="monto_base" maxlength="30" disabled="true">
						<label for="monto_base">Monto base</label>
					</div>
				</div>
			</div>
		</form>
		<div  class="row" style="margin-top:20px;">
			<div class="col-lg-12 col-md-12 col-sm-12 col-12" style="text-align:right;">
				<button type="button" class="btn btn-light btn-lg" style="border:1px solid #e0e0e0;margin:10px;font-size:14px;" (click)="back()">Regresar</button>
				<button type="button" class="btn btn-dark btn-lg" style="margin:10px;font-size:14px;" (click)="clean()">Limpiar</button>
				<button class="btn button-done btn-lg" style="margin:10px;font-size:14px;" (click)="done()">{{texto}}</button>
			</div>
		</div>
	</div>
</main>
<div class="modal" tabindex="-1" id="modalLineas">
	<div class="modal-dialog">
		<div class="modal-content" style="padding:15px;">
			<div class="modal-header">
				<h5 class="modal-title font-bold">Lineas disponibles</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body"  style="margin:2px;border:1px solid #bebebe;background:#eeeeee;">
				<div class="row" style="margin-top:0px;">
					<div class="col-lg-12 col-md-12 col-sm-12 col-12">
						<label class="font-regular" style="font-size:12px;margin-bottom:0px;">Lineas</label>
						<div style="display:flex;">
							<input type="text" class="font-regular" style="font-size:12px;text-transform:uppercase;border-radius:5px;margin-right:5px;" (keyup)="keyupsearch($event,'LINEA')" name="linea_buscar" id="linea_buscar" class="form-control font-regular" [(ngModel)]="linea_buscar" maxlength="30">
							<img src="assets/images/search_black.svg" style="cursor:pointer;" (click)="buscarLinea()">
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="listLines==null || listLines.length==0">
						<div  *ngIf="mostrarCargando==false"  style="text-align:center;padding-top:45px;vertical-align:middle;" >
							<h6 class="font-bold" style="color:#9e9e9e;" *ngIf="mensajeServicio==null">No hay registros</h6>
							<h6 class="font-bold" style="color:#9e9e9e;" *ngIf="mensajeServicio!=null">{{mensajeServicio}}</h6>
						</div>
						<div style="text-align:center;padding-top:45px;vertical-align:middle;" *ngIf="mostrarCargando==true">
							<div style="text-align:center;padding-top:20px;padding-bottom:20px;text-align:center">
								 <img [src]="imagenCargando" style="width:70px;heigth:70px;box-shadow:none;text-align:center;">
							</div>
						</div>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="listLines!=null && listLines.length!=0">
						<div class="table-responsive-vertical shadow-z-1 " style="width:100%;margin-top:15px;">
							<table id="table" class="table table-hover table-mc-light-blue">
								<thead>
									<tr>
										<th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:14px;">Código</th>
										<th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:14px;">Linea</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let item of listLines let i = index;" style="cursor:pointer;" (click)="selectedLinea(item)">
										<td data-title="Código" *ngIf="item.code!=null" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row">
											&nbsp;{{item.code}}
										</td>
										<td data-title="Código" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row" *ngIf="item.code==null">
															
										</td>
										<td data-title="Nombre" *ngIf="item.name!=null" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row">
											&nbsp;{{item.name}}
										</td>
										<td data-title="Nombre" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row" *ngIf="item.name==null">
															
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<custom-table 
							[size]="pagingActualLine.count" 
							[labelSize]="'Total'"
							[alignSize]="'alignRight'" 
							[totalPage]="detallePorPaginaLine"
							[totalPageRecords]="totalPageLine" 
							[pageSelected]="pageSelectedLine"
							(cantidadTransaccionesTabla)="getCantidadSelectedLine($event)"
							[ocultarCantidad]="'true'"
							(valueFirst)="getValueFirstLine($event)" (valuePrevious)="getValuePreviousLine($event)"
							(valueNext)="getValueNextLine($event)" (valueLast)="getValueLastLine($event)"
							(valueChangeRecords)="getValueChangeRecordsLine($event)">
						</custom-table>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary font-regular" data-bs-dismiss="modal">Cerrar</button>
			</div>
		</div>
	</div>
</div>

<div class="modal" tabindex="-1" id="modalType">
	<div class="modal-dialog">
		<div class="modal-content" style="padding:15px;">
			<div class="modal-header">
				<h5 class="modal-title font-bold">Tipos de vehículo</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body"  style="margin:2px;border:1px solid #bebebe;background:#eeeeee;">
				<div class="row" style="margin-top:0px;">
					<div class="col-lg-12 col-md-12 col-sm-12 col-12">
						<label class="font-regular" style="font-size:12px;margin-bottom:0px;">Tipos</label>
						<div style="display:flex;">
							<input type="text" class="font-regular" style="font-size:12px;text-transform:uppercase;border-radius:5px;margin-right:5px;" (keyup)="keyupsearch($event,'TIPO')" name="type_buscar" id="type_buscar" class="form-control font-regular" [(ngModel)]="type_buscar" maxlength="30">
							<img src="assets/images/search_black.svg" style="cursor:pointer;" (click)="buscarType()">
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="listTypes==null || listTypes.length==0">
						<div  *ngIf="mostrarCargando==false"  style="text-align:center;padding-top:45px;vertical-align:middle;" >
							<h6 class="font-bold" style="color:#9e9e9e;" *ngIf="mensajeServicio==null">No hay registros</h6>
							<h6 class="font-bold" style="color:#9e9e9e;" *ngIf="mensajeServicio!=null">{{mensajeServicio}}</h6>
						</div>
						<div style="text-align:center;padding-top:45px;vertical-align:middle;" *ngIf="mostrarCargando==true">
							<div style="text-align:center;padding-top:20px;padding-bottom:20px;text-align:center">
								 <img [src]="imagenCargando" style="width:70px;heigth:70px;box-shadow:none;text-align:center;">
							</div>
						</div>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="listTypes!=null && listTypes.length!=0">
						<div class="table-responsive-vertical shadow-z-1 " style="width:100%;margin-top:15px;">
							<table id="table" class="table table-hover table-mc-light-blue">
								<thead>
									<tr>
										<th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:14px;">Tipo</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let item of listTypes let i = index;" style="cursor:pointer;" (click)="selectedType(item)">
										<td data-title="Tipo" *ngIf="item.name!=null" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row">
											&nbsp;{{item.name}}
										</td>
										<td data-title="Tipo" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row" *ngIf="item.name==null">
															
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<custom-table 
							[size]="pagingActualType.count" 
							[labelSize]="'Total'"
							[alignSize]="'alignRight'" 
							[totalPage]="detallePorPaginaType"
							[totalPageRecords]="totalPageType" 
							[pageSelected]="pageSelectedType"
							(cantidadTransaccionesTabla)="getCantidadSelectedType($event)"
							[ocultarCantidad]="'true'"
							(valueFirst)="getValueFirstType($event)" (valuePrevious)="getValuePreviousType($event)"
							(valueNext)="getValueNextType($event)" (valueLast)="getValueLastType($event)"
							(valueChangeRecords)="getValueChangeRecordsType($event)">
						</custom-table>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary font-regular" data-bs-dismiss="modal">Cerrar</button>
			</div>
		</div>
	</div>
</div>


<div class="modal fade" tabindex="-1" role="dialog" id="modalParada" aria-hidden="true" style="overflow-y:visible;">
	<div class="modal-dialog" role="document">
		<div class="modal-content" style="padding:15px;">
			<div class="modal-header">
				<h5 class="modal-title font-bold">Parada</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body"  style="margin:2px;border:1px solid #bebebe;background:#eeeeee;">
				<div class="row" style="margin-top:0px;">
					<div class="col-lg-12 col-md-12 col-sm-12 col-12">
						<label class="font-regular" style="font-size:12px;margin-bottom:0px;">Paradas</label>
						<div style="display:flex;">
							<input type="text" class="font-regular" style="font-size:12px;text-transform:uppercase;border-radius:5px;margin-right:5px;" name="parada_buscar" id="parada_buscar" class="form-control font-regular" [(ngModel)]="parada_buscar" maxlength="30">
							<img src="assets/images/search_black.svg" style="cursor:pointer;" (click)="buscarParada()">
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="listParadas==null || listParadas.length==0">
						<div  *ngIf="mostrarCargando==false"  style="text-align:center;padding-top:45px;vertical-align:middle;" >
							<h6 class="font-bold" style="color:#9e9e9e;" *ngIf="mensajeServicio==null">No hay registros</h6>
							<h6 class="font-bold" style="color:#9e9e9e;" *ngIf="mensajeServicio!=null">{{mensajeServicio}}</h6>
						</div>
						<div style="text-align:center;padding-top:45px;vertical-align:middle;" *ngIf="mostrarCargando==true">
							<div style="text-align:center;padding-top:20px;padding-bottom:20px;text-align:center">
								 <img [src]="imagenCargando" style="width:70px;heigth:70px;box-shadow:none;text-align:center;">
							</div>
						</div>
					</div>
					<div class="col-lg-12 col-md-12 col-sm-12 col-12" *ngIf="listParadas!=null && listParadas.length!=0">
						<div class="table-responsive-vertical shadow-z-1 " style="width:100%;margin-top:15px;">
							<table id="table" class="table table-hover table-mc-light-blue">
								<thead>
									<tr>
										<th class="font-bold" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:14px;">Tipo</th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let item of listParadas let i = index;" style="cursor:pointer;" (click)="selectedParada(item)">
										<td data-title="Parada" *ngIf="item.code!=null" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row">
											&nbsp;({{item.code}}) - {{item.name}}
										</td>
										<td data-title="Parada" class="font-regular" style="padding-top:10px;padding-bottom:10px;word-wrap: break-word;font-size:12px;" scope="row" *ngIf="item.code==null">
															
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<custom-table 
							[size]="pagingActualParada.count" 
							[labelSize]="'Total'"
							[alignSize]="'alignRight'" 
							[totalPage]="detallePorPaginaParada"
							[totalPageRecords]="totalPageParada" 
							[pageSelected]="pageSelectedParada"
							(cantidadTransaccionesTabla)="getCantidadSelectedParada($event)"
							[ocultarCantidad]="'true'"
							(valueFirst)="getValueFirstParada($event)" 
							(valuePrevious)="getValuePreviousParada($event)"
							(valueNext)="getValueNextParada($event)" 
							(valueLast)="getValueLastParada($event)"
							(valueChangeRecords)="getValueChangeRecordsParada($event)">
						</custom-table>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary font-regular" data-bs-dismiss="modal">Cerrar</button>
			</div>
		</div>
	</div>
</div>